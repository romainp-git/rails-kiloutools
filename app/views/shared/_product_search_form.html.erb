<div class="product-search-form" data-controller="datepicker">
  <%= simple_form_for :search, url: search_products_path, method: :get, html: { class: 'row align-items-end' } do |f| %>
    <div class="col-md-6 col-12 px-1">
      <%= f.input :name,
                  label: "Nom du produit",
                  placeholder: "Exemple : Perceuse",
                  input_html: { class: 'form-control', value: params.dig(:search, :name) },
                  required: false %>
    </div>
    <div class="col-md-6 col-12 px-1">
      <%= f.input :address,
                  label: "Ville",
                  placeholder: "Exemple : Lille",
                  input_html: { class: 'form-control', value: params.dig(:search, :address) },
                  required: false %>
    </div>
    <% if controller_name == 'products' %>

      <div class="col-md-6 col-12 px-1 mb-3">
        <%= f.label :start_date, "Date de dÃ©but", class: "form-label" %>
        <%= f.text_field :start_date,
                          class: "form-control",
                          placeholder: "Choisissez une date",
                          value: params.dig(:search, :start_date)&.to_date&.strftime("%Y-%m-%d"),
                          data: { datepicker_target: "startDate" } %>
      </div>

      <div class="col-md-6 col-12 px-1  mb-3">
        <%= f.label :end_date, "Date de fin", class: "form-label" %>
        <%= f.text_field :end_date,
                          class: "form-control",
                          placeholder: "Choisissez une date",
                          value: params.dig(:search, :end_date)&.to_date&.strftime("%Y-%m-%d"),
                          data: { datepicker_target: "endDate" } %>
      </div>

    <% end %>
    <div class="col-lg-3 col-12 d-block px-1">
      <%= f.button :submit, "Rechercher", class: "btn btn-primary w-100 rounded-3" %>
    </div>
  <% end %>
</div>
